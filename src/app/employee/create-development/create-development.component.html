<main
  #dialogRef
  *ngIf="setOpen"
  (close)="onClose()"
  [appClickOutside]="dialogRef"
  class="fixed w-screen h-screen grid bg-[#0000004f] top-0 left-0 z-20"
>
  <section
    class="bg-white flex-col flex w-full h-full lg:max-w-[600px] m-auto lg:max-h-[600px] p-2 lg:p-6 overflow-y-auto scrollbar-thin xl:scrollbar-thumb-gray-500 radius lg:rounded-md"
  >
    <nav class="flex flex-row justify-between text-xl">
      <h1>{{ "new development objective" | uppercase }}</h1>
      <button class="text-2xl" (click)="onClose()">
        <span class="iconify" data-icon="eva:close-fill"></span>
      </button>
    </nav>
    <form
      [formGroup]="developmentForm"
      (ngSubmit)="onSubmit()"
      class="flex flex-col w-full flex-grow gap-4 text-base mt-4 justify-around"
    >
      <span formArrayName="development" class="flex flex-col w-full gap-2">
        <span class="w-full flex flex-row justify-between items-center">
          <label for="development">Personal development goals</label>
          <button
            type="button"
            class="w-fit self-end order-last bg-primary-dark-blue text-white py-1 px-2 rounded"
            (click)="onAdd('development')"
          >
            add
          </button>
        </span>
        <div
          class="w-full"
          *ngFor="let dev of getControls('development'); let i = index"
        >
          <input
            id="development"
            [formControlName]="i"
            class="w-full border-b-2 border-black focus:outline-none py-1"
          />
        </div>
      </span>

      <span formArrayName="support" class="flex flex-col w-full">
        <span class="w-full flex flex-row justify-between items-center">
          <label for="support">Management support</label>
          <button
            type="button"
            class="w-fit self-end order-last bg-primary-dark-blue text-white py-1 px-2 rounded"
            (click)="onAdd('support')"
          >
            add
          </button>
        </span>
        <div
          class="w-full"
          *ngFor="let dev of getControls('support'); let i = index"
        >
          <input
            id="support"
            [formControlName]="i"
            class="w-full border-b-2 border-black focus:outline-none py-1"
          />
        </div>
      </span>

      <span formArrayName="activity" class="flex flex-col w-full">
        <span class="w-full flex flex-row justify-between items-center">
          <label for="activity">Activity to achieve goal</label>
          <button
            type="button"
            class="w-fit self-end order-last bg-primary-dark-blue text-white py-1 px-2 rounded"
            (click)="onAdd('activity')"
          >
            add
          </button>
        </span>
        <div
          class="w-full"
          *ngFor="let dev of getControls('activity'); let i = index"
        >
          <input
            id="activity"
            [formControlName]="i"
            class="w-full border-b-2 border-black focus:outline-none py-1"
          />
        </div>
      </span>

      <span formArrayName="comments" class="flex flex-col w-full">
        <span class="w-full flex flex-row justify-between items-center">
          <label for="comments">Job holder's comments</label>
          <button
            type="button"
            class="w-fit self-end order-last bg-primary-dark-blue text-white py-1 px-2 rounded"
            (click)="onAdd('comments')"
          >
            add
          </button>
        </span>
        <div
          class="w-full"
          *ngFor="let dev of getControls('comments'); let i = index"
        >
          <input
            id="comments"
            [formControlName]="i"
            class="w-full border-b-2 border-black focus:outline-none py-1"
            formControlName="comments"
          />
        </div>
      </span>
      <button
        type="submit"
        class="bg-primary-light-gray text-white py-1 px-12 w-fit mx-auto rounded"
      >
        Save
      </button>
    </form>
  </section>
</main>
